<div *ngIf="dataSource.data?.length === 0 && !showAddMachineForm" class="df-empty-info">
  <img class="df-empty-info-icon" src="assets/icons/material-empty-info.png" alt="" />
  <span class="df-empty-info-text">Add Machines to track their costs</span>
  <button pButton type="submit" class="btn btn-outline-primary ml-2 digital-factory-btn p-button-rounded p-button-text" (click)="addMachineInfo()">
    <mat-icon class="df-add-icon">add</mat-icon>
    Add Machine
  </button>
</div>
<div *ngIf="dataSource.data?.length > 0" class="df-tab-table-container">
  <div class="df-tab-grid-container">
    <div class="table-container">
      <table mat-table [dataSource]="dataSource" matSort class="mat-table" aria-describedby="[]">
        <ng-container *ngFor="let column of displayedColumns" [matColumnDef]="column">
          <th mat-header-cell *matHeaderCellDef mat-sort-header [style.width.vh]="columnConfig[column].width">
            {{ columnConfig[column].displayName }}
          </th>
          <ng-container *ngIf="column === 'edit'">
            <td mat-cell *matCellDef="let row; let i = index">
              <div class="radio-control flex justify-end align-items-center">
                <label>
                  <input
                    type="radio"
                    name="dfMachineCostRadio"
                    [checked]="row.digitalFactoryMachineInfoId === currentEditingMachineInfo?.digitalFactoryMachineInfoId"
                    (change)="onInputChange(row)"
                    (click)="onInputChange(row)"
                    onKeyPress="" />
                </label>
                <span class="ms-2 radio-label">{{ i + 1 }}</span>
              </div>
            </td>
          </ng-container>

          <!-- Uncomment below column -->
          <!-- <ng-container *ngIf="column === 'marketComparison'">
            <td mat-cell *matCellDef="let row; let i = index" class="text-center">
              <span class="flex justify-center align-items-center">
                <svg width="52" height="28" viewBox="0 0 52 28" fill="none" xmlns="http://www.w3.org/2000/svg" class="mx-auto">
                  <path
                    d="M3.54762 25.8962C3.54762 22.9611 4.12572 20.0548 5.24891 17.3432C6.3721 14.6316 8.01839 12.1677 10.0938 10.0923C12.1692 8.01693 14.633 6.37064 17.3446 5.24745C20.0563 4.12426 22.9626 3.54616 25.8976 3.54616C28.8327 3.54616 31.739 4.12426 34.4506 5.24745C37.1622 6.37064 39.6261 8.01693 41.7015 10.0923C43.7768 12.1677 45.4231 14.6316 46.5463 17.3432C47.6695 20.0548 48.2476 22.9611 48.2476 25.8962"
                    stroke="#D2D2D2"
                    stroke-width="7.10202" />
                  <path d="M3.54733 25.8958C3.54733 22.9607 4.12543 20.0544 5.24863 17.3428C6.37182 14.6312 8.01811 12.1673 10.0935 10.0919" stroke="#ED3333" stroke-width="7.10202" />
                  <path d="M25.7785 25.0073L14.0572 14.0532" stroke="black" stroke-width="1.09262" />
                  <circle cx="25.897" cy="25.3416" r="1.75256" fill="black" />
                </svg> -->

          <!-- Uncomment for medium range values - yellow image-->
          <!-- <svg viewBox="0 0 52 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g>
                    <path
                      d="M3.54536 28.8961C3.54536 25.9611 4.12346 23.0548 5.24665 20.3432C6.36984 17.6315 8.01613 15.1677 10.0915 13.0923C12.1669 11.0169 14.6308 9.37063 17.3424 8.24743C20.054 7.12424 22.9603 6.54614 25.8954 6.54614C28.8304 6.54614 31.7367 7.12424 34.4483 8.24744C37.16 9.37063 39.6238 11.0169 41.6992 13.0923C43.7746 15.1677 45.4209 17.6315 46.5441 20.3432C47.6673 23.0548 48.2454 25.9611 48.2454 28.8961"
                      stroke="#E2E2E2"
                      stroke-width="7.5" />
                    <path
                      d="M3.54539 28.8961C3.54539 25.9611 4.12349 23.0548 5.24668 20.3432C6.36987 17.6315 8.01616 15.1677 10.0916 13.0923C12.1669 11.0169 14.6308 9.37063 17.3424 8.24743C20.054 7.12424 22.9603 6.54614 25.8954 6.54614C28.8304 6.54614 31.7367 7.12424 34.4484 8.24744"
                      stroke="#F9D645"
                      stroke-width="7.1" />
                    <path d="M36.0856 4.60586L28.4889 25.0274L26.1122 23.9781L36.0856 4.60586Z" fill="black" />
                    <path
                      d="M26.7383 22.5449C28.3951 22.5449 29.7383 23.8881 29.7383 25.5449C29.7383 27.2018 28.3951 28.5449 26.7383 28.5449C25.0814 28.5449 23.7383 27.2018 23.7383 25.5449C23.7383 23.8881 25.0814 22.5449 26.7383 22.5449ZM26.7383 24.5449C26.186 24.5449 25.7383 24.9926 25.7383 25.5449C25.7383 26.0972 26.186 26.5449 26.7383 26.5449C27.2906 26.5449 27.7383 26.0972 27.7383 25.5449C27.7383 24.9926 27.2906 24.5449 26.7383 24.5449Z"
                      fill="black" />
                  </g>
                </svg> -->

          <!-- Uncomment for highest range values - green image -->
          <!-- <svg viewBox="0 0 52 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g>
                    <path
                      d="M3.54536 28.8961C3.54536 25.9611 4.12346 23.0548 5.24665 20.3432C6.36984 17.6315 8.01613 15.1677 10.0915 13.0923C12.1669 11.0169 14.6308 9.37063 17.3424 8.24743C20.054 7.12424 22.9603 6.54614 25.8954 6.54614C28.8304 6.54614 31.7367 7.12424 34.4483 8.24744C37.16 9.37063 39.6238 11.0169 41.6992 13.0923C43.7746 15.1677 45.4209 17.6315 46.5441 20.3432C47.6673 23.0548 48.2454 25.9611 48.2454 28.8961"
                      stroke="#E2E2E2"
                      stroke-width="7.5" />
                    <path
                      d="M3.54535 28.8961C3.54535 25.9611 4.12345 23.0548 5.24665 20.3432C6.36984 17.6315 8.01613 15.1677 10.0915 13.0923C12.1669 11.0169 14.6308 9.37063 17.3424 8.24743C20.054 7.12424 22.9603 6.54614 25.8954 6.54614C28.8304 6.54614 31.7367 7.12424 34.4483 8.24744C37.16 9.37063 39.6238 11.0169 41.6992 13.0923C43.7746 15.1677 45.4209 17.6315 46.5441 20.3432C47.2619 22.0761 47.7571 23.8886 48.021 25.7373"
                      stroke="#2BA746"
                      stroke-width="7.1" />
                    <path d="M51.8856 25.7597L29.4699 26.8639L29.4925 24.2659L51.8856 25.7597Z" fill="black" />
                    <path
                      d="M26.7385 22.5449C28.3954 22.5449 29.7385 23.8881 29.7385 25.5449C29.7385 27.2018 28.3954 28.5449 26.7385 28.5449C25.0817 28.5449 23.7385 27.2018 23.7385 25.5449C23.7385 23.8881 25.0817 22.5449 26.7385 22.5449ZM26.7385 24.5449C26.1862 24.5449 25.7385 24.9926 25.7385 25.5449C25.7385 26.0972 26.1862 26.5449 26.7385 26.5449C27.2908 26.5449 27.7385 26.0972 27.7385 25.5449C27.7385 24.9926 27.2908 24.5449 26.7385 24.5449Z"
                      fill="black" />
                  </g>
                </svg> -->
          <!-- </span>
            </td>
          </ng-container> -->
          <ng-container *ngIf="column !== 'remove'">
            <td mat-cell *matCellDef="let row" [style.width.vh]="columnConfig[column].width" class="supplier-table-row-def">
              <span>{{ row[column] }}</span>
            </td>
          </ng-container>
          <ng-container *ngIf="column === 'remove'">
            <td mat-cell *matCellDef="let row" [style.width.vh]="columnConfig[column].width" class="supplier-table-row-def">
              <span [style.fontSize.px]="12" (click)="onMachineRemove(row)" onKeyPress="">
                <mat-icon svgIcon="trash"></mat-icon>
              </span>
            </td>
          </ng-container>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
    <div class="machine-cost-header">
      <button pButton type="submit" class="btn btn-outline-primary digital-factory-btn p-button-rounded p-button-text" (click)="addMachineInfo()">
        <mat-icon class="df-add-icon">add</mat-icon>
        Add Machine
      </button>
    </div>
  </div>
</div>

<div *ngIf="showAddMachineForm" class="add-material-inline-form">
  <app-add-machine-modal
    [selectedMachineInfo]="currentEditingMachineInfo"
    [countryId]="digitalFactoryInfo?.supplierDirectoryMasterDto?.countryId"
    [regionId]="digitalFactoryInfo?.supplierDirectoryMasterDto?.regionId"
    (machineAdded)="onMachineAddedOrUpdated($event)"></app-add-machine-modal>
</div>
