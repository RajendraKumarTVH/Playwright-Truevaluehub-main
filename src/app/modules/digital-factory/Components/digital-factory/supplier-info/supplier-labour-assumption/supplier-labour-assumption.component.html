<!-- Top: dummy Material table -->

<form [formGroup]="form">
  <div class="df-tab-table-container d-flex flex-col !gap-3">
    <div class="df-tab-grid-container">
      <div class="table-container">
        <table mat-table [dataSource]="labourRows" class="mat-table" aria-describedby="Labor Assumptions">
          <!-- # column -->
          <ng-container matColumnDef="position">
            <th mat-header-cell *matHeaderCellDef class="!text-right">#</th>
            <td mat-cell *matCellDef="let row; let i = index">
              <div class="radio-control flex justify-end align-items-center">
                <label>
                  <input type="radio" name="dfLabourRadio" [checked]="i === 0" (change)="onLabourRowSelect(row, i)" />
                </label>
                <span class="ms-2 radio-label">{{ row.position }}</span>
              </div>
            </td>
          </ng-container>

          <!-- Labor Category -->
          <ng-container matColumnDef="labourCategory">
            <th mat-header-cell *matHeaderCellDef class="has-icon">
              <span>Labor Category</span>
            </th>
            <td mat-cell *matCellDef="let row">{{ row.labourCategory }}</td>
          </ng-container>

          <!-- Examples -->
          <ng-container matColumnDef="examples">
            <th mat-header-cell *matHeaderCellDef>Examples</th>
            <td mat-cell *matCellDef="let row">{{ row.examples }}</td>
          </ng-container>

          <!-- Labor Type -->
          <ng-container matColumnDef="labourType">
            <th mat-header-cell *matHeaderCellDef>Labor Type (Union, etc)</th>
            <td mat-cell *matCellDef="let row">{{ row.labourType }}</td>
          </ng-container>

          <!-- Avg Hourly Rate -->
          <ng-container matColumnDef="avgHourlyRate">
            <th mat-header-cell *matHeaderCellDef>Avg Hourly Rate ($/Hr)</th>
            <td mat-cell *matCellDef="let row">{{ row.avgHourlyRate }}</td>
          </ng-container>

          <!-- MHR Market Comparison using SVG gauges -->
          <ng-container matColumnDef="marketComparison">
            <th mat-header-cell *matHeaderCellDef class="text-center">MHR Market Comparison</th>
            <td mat-cell *matCellDef="let row" class="text-center">
              <span class="flex justify-center align-items-center" [ngSwitch]="row.marketComparison">
                <!-- LOW = RED -->
                <ng-container *ngSwitchCase="'low'">
                  <svg width="52" height="34" viewBox="0 0 52 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_7553_110280)">
                      <path
                        d="M3.54762 28.8959C3.54762 25.9609 4.12572 23.0546 5.24891 20.3429C6.3721 17.6313 8.01839 15.1675 10.0938 13.0921C12.1692 11.0167 14.633 9.37038 17.3446 8.24719C20.0563 7.124 22.9626 6.5459 25.8976 6.5459C28.8327 6.5459 31.739 7.124 34.4506 8.24719C37.1622 9.37038 39.6261 11.0167 41.7015 13.0921C43.7768 15.1675 45.4231 17.6313 46.5463 20.3429C47.6695 23.0546 48.2476 25.9609 48.2476 28.8959"
                        stroke="#E2E2E2"
                        stroke-width="7.5" />
                      <path
                        d="M3.54762 28.8961C3.54762 25.9611 4.12572 23.0548 5.24891 20.3432C6.37211 17.6315 8.0184 15.1677 10.0938 13.0923C10.5067 12.6793 10.9351 12.2834 11.3777 11.9051C11.4184 11.8704 11.4592 11.8357 11.5001 11.8013"
                        stroke="#C1272D"
                        stroke-width="7.5" />
                      <path d="M9.05253 9.06892L23.6406 25.2535L25.4632 23.402L9.05253 9.06892Z" fill="black" />
                      <path
                        d="M25.7196 22.5449C24.0628 22.5449 22.7196 23.8881 22.7196 25.5449C22.7196 27.2018 24.0628 28.5449 25.7196 28.5449C27.3765 28.5449 28.7196 27.2018 28.7196 25.5449C28.7196 23.8881 27.3765 22.5449 25.7196 22.5449ZM25.7196 24.5449C26.2719 24.5449 26.7196 24.9926 26.7196 25.5449C26.7196 26.0972 26.2719 26.5449 25.7196 26.5449C25.1673 26.5449 24.7196 26.0972 24.7196 25.5449C24.7196 24.9926 25.1673 24.5449 25.7196 24.5449Z"
                        fill="black" />
                    </g>
                    <defs>
                      <clipPath id="clip0_7553_110280">
                        <rect width="52" height="34" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                </ng-container>

                <!-- MEDIUM = ORANGE -->
                <ng-container *ngSwitchCase="'medium'">
                  <svg width="52" height="34" viewBox="0 0 52 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_7553_110273)">
                      <path
                        d="M3.54542 28.8959C3.54542 25.9609 4.12352 23.0546 5.24671 20.3429C6.36991 17.6313 8.01619 15.1675 10.0916 13.0921C12.167 11.0167 14.6308 9.37038 17.3424 8.24719C20.0541 7.124 22.9604 6.5459 25.8954 6.5459C28.8305 6.5459 31.7368 7.124 34.4484 8.24719C37.16 9.37038 39.6239 11.0167 41.6993 13.0921C43.7746 15.1675 45.4209 17.6313 46.5441 20.3429C47.6673 23.0546 48.2454 25.9609 48.2454 28.8959"
                        stroke="#E2E2E2"
                        stroke-width="7.5" />
                      <path
                        d="M3.54539 28.8959C3.54539 25.9609 4.12349 23.0546 5.24668 20.3429C6.36987 17.6313 8.01616 15.1675 10.0916 13.0921C12.1669 11.0167 14.6308 9.37038 17.3424 8.24719C20.054 7.124 22.9603 6.5459 25.8954 6.5459C28.8304 6.5459 31.7367 7.124 34.4484 8.24719"
                        stroke="#F9D645"
                        stroke-width="7.1" />
                      <path d="M36.0855 4.60586L28.4889 25.0274L26.1121 23.9781L36.0855 4.60586Z" fill="black" />
                      <path
                        d="M26.7383 22.5449C28.3951 22.5449 29.7383 23.8881 29.7383 25.5449C29.7383 27.2018 28.3951 28.5449 26.7383 28.5449C25.0814 28.5449 23.7383 27.2018 23.7383 25.5449C23.7383 23.8881 25.0814 22.5449 26.7383 22.5449ZM26.7383 24.5449C26.186 24.5449 25.7383 24.9926 25.7383 25.5449C25.7383 26.0972 26.186 26.5449 26.7383 26.5449C27.2906 26.5449 27.7383 26.0972 27.7383 25.5449C27.7383 24.9926 27.2906 24.5449 26.7383 24.5449Z"
                        fill="black" />
                    </g>
                    <defs>
                      <clipPath id="clip0_7553_110273">
                        <rect width="52" height="34" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                </ng-container>

                <!-- HIGH = GREEN -->
                <ng-container *ngSwitchCase="'high'">
                  <svg width="52" height="34" viewBox="0 0 52 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_7553_110265)">
                      <path
                        d="M3.54542 28.8959C3.54542 25.9609 4.12352 23.0546 5.24671 20.3429C6.36991 17.6313 8.01619 15.1675 10.0916 13.0921C12.167 11.0167 14.6308 9.37038 17.3424 8.24719C20.0541 7.124 22.9604 6.5459 25.8954 6.5459C28.8305 6.5459 31.7368 7.124 34.4484 8.24719C37.16 9.37038 39.6239 11.0167 41.6993 13.0921C43.7746 15.1675 45.4209 17.6313 46.5441 20.3429C47.6673 23.0546 48.2454 25.9609 48.2454 28.8959"
                        stroke="#E2E2E2"
                        stroke-width="7.5" />
                      <path
                        d="M3.54541 28.8959C3.54541 25.9609 4.12352 23.0546 5.24671 20.3429C6.3699 17.6313 8.01619 15.1675 10.0916 13.0921C12.167 11.0167 14.6308 9.37038 17.3424 8.24719C20.0541 7.124 22.9604 6.5459 25.8954 6.5459C28.8305 6.5459 31.7368 7.124 34.4484 8.24719C37.16 9.37038 39.6239 11.0167 41.6993 13.0921C43.7746 15.1675 45.4209 17.6313 46.5441 20.3429C47.2619 22.0759 47.7571 23.8884 48.0211 25.737"
                        stroke="#2BA746"
                        stroke-width="7.1" />
                      <path d="M51.8858 25.7597L29.47 26.8639L29.4926 24.2659L51.8858 25.7597Z" fill="black" />
                      <path
                        d="M26.7386 22.5449C28.3955 22.5449 29.7386 23.8881 29.7386 25.5449C29.7386 27.2018 28.3955 28.5449 26.7386 28.5449C25.0818 28.5449 23.7386 27.2018 23.7386 25.5449C23.7386 23.8881 25.0818 22.5449 26.7386 22.5449ZM26.7386 24.5449C26.1864 24.5449 25.7386 24.9926 25.7386 25.5449C25.7386 26.0972 26.1864 26.5449 26.7386 26.5449C27.2909 26.5449 27.7386 26.0972 27.7386 25.5449C27.7386 24.9926 27.2909 24.5449 26.7386 24.5449Z"
                        fill="black" />
                    </g>
                    <defs>
                      <clipPath id="clip0_7553_110265">
                        <rect width="52" height="34" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                </ng-container>
              </span>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="['position', 'labourCategory', 'examples', 'labourType', 'avgHourlyRate', 'marketComparison']"></tr>
          <tr mat-row *matRowDef="let row; columns: ['position', 'labourCategory', 'examples', 'labourType', 'avgHourlyRate', 'marketComparison']"></tr>
        </table>
      </div>
    </div>
  </div>
  <div class="card border-none !pl-3 !pr-3 !pt-3 mt-3 mb-5" *ngIf="selectedLabour">
    <div class="add-model-heading !mb-3 text-sm font-semibold">Labor Definitions</div>
    <div class="add-fields row flex-wrap">
      <div class="col-6 !mb-3">
        <label for="" class="add-label form-label no-wrap">
          <span class="label-text">Labor Category</span>
        </label>
        <input type="text" class="df-input-field form-control" [value]="selectedLabour.labourCategory" disabled />
      </div>

      <div class="col-6 !mb-3">
        <label for="" class="add-label form-label no-wrap">
          <span class="label-text">Examples</span>
        </label>
        <input type="text" class="df-input-field form-control" [value]="selectedLabour.examples" disabled />
      </div>

      <div class="col-3 !mb-3">
        <label for="selectedLaborType" class="add-label form-label no-wrap">
          <span class="label-text">Labor Type</span>
        </label>
        <input id="selectedLaborType" type="text" class="df-input-field form-control" formControlName="selectedLaborType" />
      </div>

      <div class="col-3 !mb-3">
        <label for="selectedLaborCost" class="add-label form-label no-wrap">
          <span class="label-text">Avg Hourly Rate ($/Hr)</span>
        </label>
        <input id="selectedLaborCost" type="number" class="df-input-field form-control" formControlName="selectedLaborCost" />
      </div>
    </div>
  </div>
</form>
<app-edit-toolbar [canUndo]="canUndo()" [canRedo]="canRedo()" [dirty]="isDirty()" (undo)="undo()" (redo)="redo()" (save)="save()" (discard)="discard()"></app-edit-toolbar>
