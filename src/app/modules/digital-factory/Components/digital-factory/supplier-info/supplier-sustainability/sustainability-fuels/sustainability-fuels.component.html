<div class="card !p-0">
  <p class="section-description mb-3">Add all the fuels combusted by this supplier annually</p>

  <div class="df-tab-table-container common-table-container">
    <div class="common-table-inner-wrap">
      <div class="table-container">
        <table mat-table [dataSource]="fuels" class="mat-table sustainability-fuels-table" aria-describedby="">
          <!-- Description -->
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef>Description</th>
            <td mat-cell *matCellDef="let row">
              <div class="category-dropdown">
                <input type="text" class="form-control category-input-dropdown border-none" placeholder="Select fuel" [(ngModel)]="row.description" [matAutocomplete]="fuelAuto" />
                <mat-icon class="dropdown-arrow" svgIcon="downArrow_icon"></mat-icon>
                <mat-autocomplete #fuelAuto="matAutocomplete" (optionSelected)="onFuelSelected(row, $event.option.value)">
                  <mat-option *ngFor="let option of fuelOptions" [value]="option" class="df-overlay-option">
                    {{ option }}
                  </mat-option>
                </mat-autocomplete>
              </div>
            </td>
          </ng-container>

          <!-- Annual Volume -->
          <ng-container matColumnDef="annualVolume">
            <th mat-header-cell *matHeaderCellDef>Annual Volume</th>
            <td mat-cell *matCellDef="let row">
              <div class="field-input error">
                <input type="number" class="form-control text-right" [(ngModel)]="row.annualVolume" placeholder="0" />
              </div>
              <div class="field-error">Required field</div>
            </td>
          </ng-container>

          <!-- Unit -->
          <ng-container matColumnDef="unit">
            <th mat-header-cell *matHeaderCellDef>Unit</th>
            <td mat-cell *matCellDef="let row">
              <div class="category-dropdown">
                <input type="text" class="form-control category-input-dropdown border-none" placeholder="Select unit" [(ngModel)]="row.unit" [matAutocomplete]="unitAuto" />

                <mat-icon class="dropdown-arrow" svgIcon="downArrow_icon"></mat-icon>

                <mat-autocomplete #unitAuto="matAutocomplete" (optionSelected)="onUnitSelected(row, $event.option.value)">
                  <mat-option *ngFor="let u of unitOptions" [value]="u" class="df-overlay-option">
                    {{ u }}
                  </mat-option>
                </mat-autocomplete>
              </div>
            </td>
          </ng-container>

          <!-- Action -->
          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef class="text-center">Action</th>
            <td mat-cell *matCellDef="let row; let i = index" class="text-center">
              <button type="button" class="btn btn-delete icon-btn p-0" (click)="removeRow(i)" title="Remove">
                <mat-icon svgIcon="delete_icon"></mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
    </div>
  </div>

  <div class="mt-3">
    <button pButton type="submit" class="btn btn-outline-primary flex items-center gap-1" (click)="addRow()">
      <mat-icon class="df-add-icon" svgIcon="plus-add-icon">add</mat-icon>
      Add Another
    </button>
  </div>
</div>
