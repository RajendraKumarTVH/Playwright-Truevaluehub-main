<div class="row row-cols-2">
  <div class="col-12">
    <div class="card table-card">
      <!-- <div class="card-header">Material Information</div> -->
      <div class="col-lg-12">
        <!-- <table class="table" aria-describedby="Material">
                    <thead>
                        <tr>
                            <th scope="col" class="table-head">Material #</th>
                            <th scope="col" class="table-head">Material Description</th>
                            <th scope="col" class="table-head">Cost($)</th>
                            <th scope="col-3" class="table-head">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let mat of materialInfoList; let i = index"
                            [ngClass]="{ 'grid-bg-color': mat.materialInfoId === selectedMaterialInfoId }">
                            <td scope="row">{{ i + 1 }}</td>
                            <td>
                                {{ mat.materialDescription ? mat.materialDescription : "-" }}
                            </td>
                            <td>{{ this.sharedService.isValidNumber(mat.netMatCost) }}</td>
                            <td>
                                <a href="javascript:void(0)" name="{{ mat.materialMarketId }}"
                                    (click)="onEditMaterial(mat)">
                                    <mat-icon>edit</mat-icon>
                                </a>
                                <a *ngIf="!processFlag.IsProcessCustomizeCable" href="javascript:void(0)"
                                    name="{{ mat.materialInfoId }}" (click)="onDeleteMaterial(mat)">
                                    <mat-icon>delete</mat-icon>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table> -->

        <div class="table-container">
          <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" aria-describedby="Material">
            <ng-container matColumnDef="edit">
              <th mat-header-cell *matHeaderCellDef></th>
              <td mat-cell *matCellDef="let row" class="text-center">
                <label>
                  <input type="radio" name="materialEditRadio" (click)="onEditMaterial(row)" [checked]="row.materialInfoId === selectedMaterialInfoId" />
                </label>
              </td>
              <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>
            <ng-container matColumnDef="sl">
              <th mat-header-cell *matHeaderCellDef>Sl</th>
              <td mat-cell *matCellDef="let row; let i = index">{{ i + 1 }}</td>
              <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <ng-container matColumnDef="materialDescription">
              <th mat-header-cell *matHeaderCellDef>Material Description</th>
              <td mat-cell *matCellDef="let row">
                {{ row.materialDescription ? row.materialDescription : '-' }}
              </td>
              <td mat-footer-cell *matFooterCellDef>Sub Total</td>
            </ng-container>

            <ng-container matColumnDef="co2">
              <th mat-header-cell *matHeaderCellDef [ngClass]="{ 'header-highlight': true }" class="text-end">CO2 (kg)</th>
              <td mat-cell *matCellDef="let row" [ngClass]="{ 'header-highlight': true }" class="text-end">
                {{ row.esgImpactCO2KgPart | number: '1.0-4' }}
              </td>
              <td mat-footer-cell *matFooterCellDef class="text-end" [ngClass]="{ 'header-highlight': true }">{{ totalCo2Cost | number: '1.0-4' }}</td>
            </ng-container>

            <ng-container matColumnDef="cost">
              <th mat-header-cell *matHeaderCellDef class="text-end">Cost ($)</th>
              <td mat-cell *matCellDef="let row" class="text-end">
                {{ row.netMatCost | number: '1.0-4' }}
              </td>
              <!-- <td mat-footer-cell>sadsa</td> -->
              <td mat-footer-cell *matFooterCellDef class="text-end">{{ totalCost | number: '1.0-4' }}</td>
            </ng-container>
            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef class="text-center">Action</th>
              <td mat-cell *matCellDef="let row" class="text-center">
                <a href="javascript:void(0)" *ngIf="canUpdate" (click)="onDeleteMaterial(row)" class="icon-delete">
                  <mat-icon svgIcon="delete_icon"></mat-icon>
                </a>
              </td>
              <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tbody>
              <tr
                mat-row
                *matRowDef="let row; columns: displayedColumns"
                [ngClass]="{
                  'grid-bg-color': row.materialInfoId === selectedMaterialInfoId,
                }"></tr>
            </tbody>
            <tr mat-footer-row *matFooterRowDef="displayedColumns" [ngStyle]="{ display: dataSource.data.length > 0 ? '' : 'none' }"></tr>
          </table>
          <div *ngIf="dataSource.data.length === 0" class="no-data-message">No Material Created Yet</div>
        </div>
      </div>
    </div>
  </div>
  <!-- <div>
      <ng-template #popContent>
       <div [innerHTML]="name"></div>
        <div class="div-img" *ngIf="url">
          <img alt="" class="img-class" [src]="url" />
        </div>
      </ng-template>
    </div> -->
  <div class="col-12 links-block pe-3 btn-add-material" *ngIf="showAddNewOption && !processFlag.IsProcessCustomizeCable">
    <!-- <a class="link-info" href="javascript:void(0)" (click)="onAddMaterial()" id="aBCmat">Add Material</a> -->
    <button *ngIf="canUpdate" type="button" (click)="onAddMaterial()" id="aBCmat" class="btn material-table-btn btn-outline-primary flex items-center gap-2 leading-none">
      <mat-icon svgIcon="plus-add-icon"></mat-icon>
      <span>Add Material</span>
    </button>
  </div>
</div>
